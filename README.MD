# ğŸˆ `office-user-auto-create`

[![forthebadge](https://forthebadge.com/images/badges/made-with-typescript.svg)](https://forthebadge.com)

## ç”¨ [cloudflare worker](https://workers.cloudflare.com/) è‡ªåŠ©åˆ›å»º office è´¦å·

#### åç«¯ | [å‰ç«¯](https://github.com/zayabighead/office-user-auto-create/tree/client)

## ğŸšš éƒ¨ç½²

[![Deploy to Cloudflare Workers](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/zayabighead/office-user-auto-create/tree/worker)

1. æŒ‰ç…§æç¤ºåœ¨ GitHub ä¸Šæˆæƒ Worker

2. è¾“å…¥ Cloudflare çš„è´¦å· ID å’Œ [Token](https://dash.cloudflare.com/profile/api-tokens) å¹¶è¿æ¥è´¦å·

    + Token éœ€è¦ç»™äºˆ `Edit Workers` æƒé™
      ![](readme/2886ca94.png)

3. Fork é¡¹ç›®å¹¶å¯ç”¨ GitHub Actions

4. å›åˆ° Cloudfalre Worker å¼€å§‹éƒ¨ç½²é¡¹ç›®

   ![](readme/de815073.png)

5. éƒ¨ç½²æˆåŠŸåæ–°å»ºä¸€ä¸ª KV å’Œç¯å¢ƒå˜é‡ `_KV` ç»‘å®š

   ![](readme/261cf5ab.png)

6. é…ç½®ç¯å¢ƒå˜é‡

   ![](readme/410ca81f.png)
    + `_ANNOUNCEMENT`: å…¬å‘Šå†…å®¹ï¼Œå»æ‰å˜é‡åˆ™ä¸æ˜¾ç¤ºå…¬å‘Š
    + `_GET_CODE_LINK`: è·å–æ¿€æ´»ç çš„è¿æ¥ï¼Œå¯ä»¥ä¸å¡«
    + `_AAD_CONFIG`: [Azure Active Directory](https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredApps)
      çš„ `APP` å‡­è¯é…ç½®
    + `_OFFICE_DOMAINS`: Office ä¸‹çš„åŸŸå
    + `_OFFICE_SUBSCRIPTIONS`: Office çš„çš„è®¢é˜…é…ç½®
    + `_USERNAME_BLACKLIST`: ç”¨æˆ·åé»‘åå•
    + `_GENERATE_CODES_SECRET_PATH`: ç”Ÿæˆæ¿€æ´»ç çš„è·¯å¾„ï¼Œå»ºè®®ç”Ÿæˆä¸€ä¸ªéšæœºå¯†ç ï¼Œç”Ÿæˆæ¿€æ´»ç æ—¶æµè§ˆå™¨è®¿é—® `https://<å‰ç¼€>.workers.dev/<éšæœºå¯†ç >/<æ•°é‡>`
